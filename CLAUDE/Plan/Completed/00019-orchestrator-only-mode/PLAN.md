# Plan 00019: Orchestrator-Only Mode

**Status**: Complete (2026-02-06)
**Created**: 2026-01-30
**Priority**: Medium
**Type**: Feature
**GitHub Issue**: #14

## Overview

Create optional PreToolUse handler that enforces orchestration-only pattern: main Claude thread can only delegate via Task tool, all work (Edit, Write, Bash) is blocked.

## Goals

- Block work tools (Edit, Write, NotebookEdit, mutating Bash) when enabled
- Allow orchestration tools (Task, Read, Glob, Grep, planning, task management)
- Context-dependent Bash handling (configurable read-only allowlist)
- Opt-in via config (disabled by default)

## Handler Specification

- Priority 8 (before all other handlers)
- Terminal blocking for work tools
- Configurable read-only Bash prefix allowlist
- Clear deny messages directing to Task tool

## Implementation Plan

**Full detailed plan with TDD workflow, handler spec, and comprehensive task breakdown was generated by Opus agent (agentId: af5d82b).**

See agent output above and GitHub Issue #14 for complete specification including tool classification, Bash detection logic, config schema, and 5-phase implementation plan.

## Next Steps

1. Run debug_hooks.sh to capture real tool events
2. Implement handler following TDD workflow
3. Test with live Claude Code session
