# Release v2.11.0 - LLM-Optimized QA, Advisory Enhancements & Documentation

**Release Date:** 2026-02-12
**Type:** Minor Release

## Summary

Version 2.11.0 introduces an LLM-optimized QA wrapper script that reduces output from 200+ lines to ~16 lines of structured JSON, making quality checks far more efficient for AI agents. This release adds a critical thinking advisory handler to encourage deeper analysis, NPM handler enhancements for detecting LLM command wrappers, and automatic config path injection in blocking responses. Also includes comprehensive per-handler documentation, monorepo support for markdown organization, and configurable markdown path patterns. Includes critical bug fixes for MyPy error reporting and cleanup of project-specific handlers.

## Highlights

- **LLM-Optimized QA Script**: New `scripts/qa/llm_qa.py` wrapper with ~16 lines of structured output (vs 200+ verbose lines)
- **Critical Thinking Advisory Handler**: New UserPromptSubmit handler to encourage deeper analysis on complex tasks
- **NPM Handler LLM Detection**: Detects `llm:` commands in package.json and adjusts blocking/advisory behavior
- **Config Key Injection**: DENY/ASK responses now show exact config path to disable blocking handlers
- **LLM Command Wrapper Guide**: Comprehensive language-agnostic guide for wrapping CLI tools
- **Per-Handler Documentation**: Handler-specific docs in `docs/guides/handlers/` with full configuration options
- **Monorepo Support**: Sub-project directory patterns for markdown organization handler
- **Configurable Markdown Paths**: Custom regex patterns for project-specific markdown organization rules
- **MyPy Accuracy Fix**: Type checking now reports accurate error counts (was reporting 0 when errors existed)
- **Project Handler Cleanup**: Removed two project-specific hangover handlers from core daemon

## Changes

### Added - LLM-Optimized QA Script (Plan 00053, commits da71c17, 5b1f1fa, cedb3c0)

**Problem**: The verbose `run_all.sh` QA script produces 200+ lines of output, overwhelming AI agent context windows and making it difficult to identify failures quickly.

**Solution**: New `scripts/qa/llm_qa.py` wrapper script that produces ~16 lines of structured output (2 lines per tool: status + jq hint).

**Features**:
- **Unified Runner**: Run all QA checks with `./scripts/qa/llm_qa.py all`
- **Individual Tools**: Run specific checks with `./scripts/qa/llm_qa.py tests` (or lint, format, etc.)
- **JSON Output**: All results in machine-readable JSON with jq hints for drill-down investigation
- **Cross-Validation**: Checks tool exit codes against JSON to catch reporting inaccuracies
- **Read-Only Mode**: `--read-only` flag for non-interactive environments
- **Project Handler**: Enforces usage of LLM script over verbose `run_all.sh` (individual scripts still allowed)

**Example Output**:
```
✅ magic_values: 0 violations
   magic_values.json | jq '.violations[] | {file, line, rule, message}'
✅ format: 0 files need reformatting
   format.json | jq '.violations[].file'
✅ lint: 0 violations
   lint.json | jq '.violations[] | {file, rule, message}'
✅ type_check: 0 errors
   type_check.json | jq '.errors[] | {file, line, message}'
✅ tests: 5378 passed, 0 failed, 3 skipped | coverage: 95.3%
   tests.json | jq '.summary'
✅ security: 0 issues
   security.json | jq '.issues[] | {file, test_id, severity, message}'
✅ dependencies: 0 issues
   dependencies.json | jq '.issues[]'

QA: 7/7 PASSED
```

**Impact**: Dramatically reduced cognitive load for AI agents during QA checks. LLM agents can quickly assess status and drill down only when failures occur.

### Added - Per-Handler Documentation Structure (commit 7763c05)

**Feature**: Handler-specific documentation files in `docs/guides/handlers/` directory.

**Structure**:
```
docs/guides/handlers/
├── markdown_organization.md    # Full config options, monorepo interaction
└── [more handlers to follow]
```

**Benefits**:
- **Focused Documentation**: Each complex handler gets its own detailed guide
- **Reduced Duplication**: `HANDLER_REFERENCE.md` links to per-handler files instead of duplicating content
- **Better Discoverability**: Config templates include doc links for each handler
- **Comprehensive Examples**: Full configuration options, edge cases, and examples in one place

**First Extraction**: `markdown_organization.md` with:
- All configuration options (`allowed_markdown_paths`, `_monorepo_subproject_patterns`)
- Monorepo interaction behavior
- Custom path pattern examples
- Common use cases and gotchas

**Impact**: Better documentation discoverability and reduced maintenance burden from duplicated content.

### Added - Monorepo Support for Markdown Organization (commits 21c0349, da7d750)

**Feature**: Sub-project directory configuration for monorepo codebases.

**New Configuration Option**: `_monorepo_subproject_patterns`
```yaml
handlers:
  pre_tool_use:
    markdown_organization:
      enabled: true
      _monorepo_subproject_patterns:
        - "^packages/[^/]+$"      # packages/api/, packages/web/
        - "^services/[^/]+$"       # services/auth/, services/billing/
```

**Behavior**:
- When patterns are configured, sub-projects can have their own organizational directories
- Allowed in sub-projects: `CLAUDE/`, `docs/`, `untracked/`, `RELEASES/`, `eslint-rules/`
- Root-level organizational rules still apply to project root
- **Backward Compatible**: Existing single-project configurations unchanged

**Example**:
```
monorepo/
├── CLAUDE/                      # Root docs (allowed)
├── docs/                        # Root docs (allowed)
├── packages/
│   ├── api/
│   │   ├── CLAUDE/             # Sub-project docs (allowed with monorepo config)
│   │   ├── docs/               # Sub-project docs (allowed with monorepo config)
│   │   └── src/
│   └── web/
│       ├── CLAUDE/             # Sub-project docs (allowed with monorepo config)
│       └── src/
├── services/
│   └── auth/
│       ├── CLAUDE/             # Sub-project docs (allowed with monorepo config)
│       └── src/
└── random-folder/
    └── CLAUDE/                 # NOT allowed (doesn't match patterns)
```

**Test Coverage**: 13 new tests covering monorepo allow/block scenarios.

**Impact**: First-class monorepo support for teams using multi-package repositories.

### Added - Configurable Allowed Markdown Paths (commit 10ed5dd)

**Feature**: Custom regex patterns for markdown organization rules.

**New Configuration Option**: `allowed_markdown_paths`
```yaml
handlers:
  pre_tool_use:
    markdown_organization:
      enabled: true
      allowed_markdown_paths:
        - "^my-special-docs/"
        - "^project-guides/"
        - "^specs/.*\\.md$"
```

**Behavior**:
- When set, **overrides ALL built-in path checks**
- `CLAUDE.md`, `README.md`, `CHANGELOG.md` remain always-allowed regardless of custom patterns
- Gives projects full control over markdown organization rules
- Documented as commented defaults in YAML config for easy customization

**Interaction with Monorepo Config**:
- `allowed_markdown_paths` applies to root level
- `_monorepo_subproject_patterns` applies to sub-project directories
- Both can be used together for maximum flexibility

**Test Coverage**: 19 tests covering interaction with monorepo configuration and custom patterns.

**Impact**: Projects with unique documentation structures can customize markdown organization rules without forking the handler.

### Added - Critical Thinking Advisory Handler (Plan 00051, commits 2c4266d, 4a30b6e, 51e530e)

**Feature**: New UserPromptSubmit handler that encourages deeper analysis on complex tasks.

**Behavior**:
- Triggers on complex task patterns: "refactor", "architecture", "design", "multi-file changes"
- Provides advisory context encouraging consideration of:
  - Edge cases and failure modes
  - Dependencies and side effects
  - Test coverage implications
  - Rollback strategies
- Non-blocking advisory mode (does not prevent task execution)

**Configuration**:
```yaml
handlers:
  user_prompt_submit:
    critical_thinking_advisory:
      enabled: true
      priority: 50
```

**Example Advisory**:
```
⚠️ Complex task detected. Consider:
- Edge cases and failure modes
- Dependencies and side effects
- Test coverage for changes
- Rollback strategy if issues arise
```

**Handler Details**:
- Event: UserPromptSubmit
- Priority: 50 (advisory tier)
- Terminal: false (non-blocking)
- New constant: HandlerID.CRITICAL_THINKING_ADVISORY

**Impact**: Encourages more thorough planning and consideration before implementing complex changes, reducing bugs and technical debt.

### Added - LLM Command Wrapper Guide (Plan 00052, commits 2c4266d, ca50a3b, 5bc354c, 8dfdcfc)

**Feature**: Comprehensive language-agnostic guide for creating LLM-optimized CLI tool wrappers.

**Guide Location**: `docs/guides/llm-command-wrappers.md`

**Topics Covered**:
- **JSON Output Design**: Structured output for machine parsing
- **Error Handling**: Clear error messages with actionable context
- **Context Awareness**: Understanding when to run checks vs advise
- **LLM-Optimized Formatting**: Concise output that fits LLM context windows
- **Language-Specific Examples**: Python, Node.js, Go, PHP patterns

**New Infrastructure**:
- New `guides/` package with module structure
- New utility function: `get_llm_command_guide_path()` returns absolute path to guide
- Markdown organization handler allows `guides/` directory by default

**Handler Integration**:
- **NPM Advisory Handler**: References guide when advising on npm commands
- **ESLint Advisory Handler**: References guide when advising on ESLint configuration
- Future handlers can reference guide for consistent messaging

**Example Guide Reference**:
```
For guidance on creating LLM-friendly command wrappers, see:
/workspace/docs/guides/llm-command-wrappers.md
```

**Impact**: Standardizes approach to CLI tool wrapping across projects, making it easier for teams to adopt LLM-optimized tooling patterns.

### Added - Config Key Injection in DENY/ASK Responses (Plan 00050, commits b428e54, fa82460)

**Feature**: Infrastructure-level automatic config path injection into all blocking handler responses.

**Architecture**:
- **EventRouter**: Injects config path into responses before returning to hook scripts
- **FrontController**: Passes handler config path through dispatch chain
- **Zero Handler Changes**: Existing handlers automatically get this feature

**Response Format**:
```json
{
  "decision": "deny",
  "reason": "Force push to main branch is blocked for safety",
  "config_key": "handlers.pre_tool_use.destructive_git.enabled"
}
```

**User Experience**:
When a handler blocks a command, users immediately see:
```
❌ Command blocked: Force push to main branch is blocked for safety

To disable this handler, set:
  handlers.pre_tool_use.destructive_git.enabled: false

In your config file: .claude/hooks-daemon.yaml
```

**Benefits**:
- **Discoverability**: Users instantly know how to disable blocking handlers
- **Self-Service**: No need to dig through documentation to find config keys
- **Consistency**: All handlers benefit from uniform messaging
- **Zero Maintenance**: Handler developers don't need to manually include config paths

**Implementation Details**:
- Config key derived from event type and handler ID
- Works for both library and project-level handlers
- ASK decision also includes config key (for handlers that prompt user confirmation)

**Impact**: Dramatically improves user experience when handlers block commands - users can immediately disable the handler if they disagree with the block.

### Added - Force Branch Deletion Blocking (commit f0a03b9)

**Enhancement**: Extended destructive git handler to catch forced branch deletions.

**New Patterns Blocked**:
- `git branch -D <branch>` - Force delete branch
- `git branch --delete --force <branch>` - Long-form force delete

**Existing Patterns** (already blocked):
- `git reset --hard`
- `git push --force`
- `git push -f`
- `git clean -f`
- etc.

**Rationale**: Force branch deletion can permanently lose work if the branch hasn't been pushed or merged. This safety check prevents accidental data loss.

**Impact**: Additional safety check for destructive git operations, caught during scout review of quick wins.

### Added - Blocking Handler False Positives Documentation (commit 80a2f25)

**Documentation**: New CLAUDE.md section explaining intentional false-positive behavior in blocking handlers.

**Context**: Blocking handlers match patterns in the full Bash command string, including git commit messages. If you describe a fix with a literal dangerous command (e.g., "fix git reset --hard blocker"), the handler will block the commit.

**Why This Is Intentional**:
- Same string-matching enables safe acceptance testing
- Tests verify handlers by embedding dangerous commands in strings (e.g., `echo "git reset --hard"`)
- Removing string matching would break acceptance test validation

**Solution**: Simply avoid literal blocked patterns in commit messages. Describe fixes differently (e.g., "force reset blocker" instead of the literal command).

**Documentation Added**:
- CLAUDE.md section under "Claude Code Hooks System"
- Explains false-positive matching is intentional
- Provides workarounds and examples
- Clarifies why this behavior must NOT be "fixed"

**Impact**: Reduces confusion when handlers block commit messages, clarifies design rationale.

### Changed - MyPy Color Output Disabled (commit da71c17)

**Bug**: ANSI color codes broke mypy error parsing in JSON output, causing `run_type_check.sh` to report 0 errors when mypy found real errors.

**Impact**: Critical false-negative in QA pipeline - type errors were invisible to automated checks.

**Fix**: Added `--no-color-output` flag to mypy invocation.

**Verification**: `llm_qa.py` now cross-checks tool exit codes against JSON results to catch similar reporting inaccuracies.

**Result**: Type checking JSON output now accurately reflects actual mypy errors.

### Changed - Handler Class Attributes (commit da71c17)

**Bug**: Handler class missing `_project_languages` in `__slots__` and type annotations, causing MyPy `attr-defined` error.

**Fix**: Added `_project_languages` to `__slots__` and type annotations for handlers using project language detection.

**Impact**: Ensures strict type safety for handler class attributes, catches future attribute definition errors.

### Changed - Thinking Mode Status Priority (commit 990bb1f)

**Change**: Moved thinking mode status line from priority 25 to priority 12.

**Reason**: Displays next to model name in session start messages for better visibility.

**Impact**: Critical thinking advisory context is more prominent during session initialization.

### Changed - NPM Handler LLM Command Detection & Advisory Mode (Plan 00049, commits b428e54, fa82460, c5e2283, baeb7ae)

**Feature**: NPM handler now detects `llm:` commands in package.json and adjusts blocking/advisory behavior.

**New Shared Utility**: `utils/npm.py`
```python
def has_llm_commands_in_package_json(project_root: Path) -> bool:
    """Check if package.json has 'llm:' command scripts."""
    # Parses package.json and checks scripts section
```

**Handler Behavior Changes**:

**1. NpmCommandHandler (blocks raw npm commands)**:
- **With `llm:` commands**: DENY raw npm with reason "Use llm:* commands instead"
- **Without `llm:` commands**: ALLOW with advisory suggesting LLM wrapper adoption
- References LLM command wrapper guide in advisory

**2. ValidateEslintOnWriteHandler (runs ESLint on Write)**:
- **With `llm:` commands**: Run ESLint (assumes project has LLM-optimized tooling)
- **Without `llm:` commands**: Skip ESLint with advisory suggesting LLM wrapper adoption
- References LLM command wrapper guide in advisory

**Configuration** (no changes required):
```yaml
handlers:
  pre_tool_use:
    npm_command:
      enabled: true
    validate_eslint_on_write:
      enabled: true
```

**Example Advisory** (when no `llm:` commands detected):
```
ℹ️ Consider adding LLM-optimized command wrappers to package.json:

{
  "scripts": {
    "llm:lint": "eslint --format json src/",
    "llm:test": "jest --json --outputFile=test-results.json"
  }
}

See docs/guides/llm-command-wrappers.md for guidance.
```

**Impact**: Encourages teams to adopt LLM-optimized tooling while maintaining backwards compatibility with existing workflows. Projects with LLM wrappers get stricter enforcement, projects without get gentle guidance.

### Fixed - Type Check JSON Accuracy (commit da71c17)

**Bug**: Exit code/JSON mismatch could cause false-negative QA reports.

**Fix**: `llm_qa.py` cross-validates tool exit codes against JSON results.

**Detection Logic**:
```python
if exit_code != 0 and json_reports_success:
    raise RuntimeError("Tool exited with error but JSON reports success")
```

**Impact**: Prevents silent failures in CI/CD pipelines where QA appears to pass but underlying tool failed.

### Fixed - Deprecated Handler Attribute (commit f0a03b9)

**Bug**: 6 handlers were using deprecated `name=` parameter instead of `handler_id=` in constructor.

**Affected Handlers**:
1. `pip_break_system` (PreToolUse)
2. `sudo_pip` (PreToolUse)
3. `curl_pipe_shell` (PreToolUse)
4. `dangerous_permissions` (PreToolUse)
5. `global_npm_advisor` (PreToolUse)
6. `lock_file_edit_blocker` (PreToolUse)

**Root Cause**: These handlers were created before the HandlerID constant migration in Plan 00039, which standardized handler identification using `HandlerID` enum constants.

**Fix**: Updated all 6 handlers to use `handler_id=HandlerID.HANDLER_NAME` pattern for consistency.

**Example Change**:
```python
# Before
def __init__(self) -> None:
    super().__init__(name="pip-break-system", priority=10, terminal=True)

# After
def __init__(self) -> None:
    super().__init__(
        handler_id=HandlerID.PIP_BREAK_SYSTEM,
        priority=10,
        terminal=True
    )
```

**Impact**: Maintains architectural consistency with handler registry system, ensures config keys are correctly derived from handler IDs.

### Fixed - Silent Exception Suppression (commit f0a03b9)

**Bug**: registry.py used bare `try/except/pass` to suppress handler loading failures without logging errors.

**Security Impact**: Violates B110 (silent exception suppression) and FAIL FAST principle - errors were invisible in daemon logs.

**Root Cause**: Handler loading wrapped in exception handler that silently swallowed import errors, making it impossible to diagnose why handlers failed to load.

**Fix**: Added explicit error logging before suppressing exceptions:
```python
try:
    handler = load_handler(handler_path)
except Exception as e:
    logger.error(f"Failed to load handler {handler_path}: {e}")
    # Now suppression is intentional and errors are visible
```

**Impact**:
- Handler loading failures now visible in daemon logs
- Maintains error recovery (daemon doesn't crash on single handler failure)
- Follows FAIL FAST principle (errors are logged immediately)
- Resolves Bandit B110 security violation

### Removed - Project-Specific Hangover Handlers (commit 990bb1f)

**Cleanup**: Removed two handlers that belonged in project-level configuration, not core daemon.

**Handlers Removed**:
1. **validate_sitemap** (PostToolUse) - Project-specific validation logic
2. **remind_validator** (SubagentStop) - Project-specific reminder

**Rationale**: These handlers were specific to a single project and should have been implemented as project-level handlers (`.claude/project-handlers/`), not in the core daemon codebase.

**Migration**: Projects needing similar functionality should implement project-level handlers.

**Impact**: Cleaner core daemon with only universally-applicable handlers. Updated all constants, configs, tests, docs, and install template.

## Upgrade Instructions

This release is backwards compatible. No breaking changes or special upgrade steps required.

**Recommended Upgrade Method**: Fetch and review the upgrade script, then run it:

```bash
# Download the upgrade script
curl -fsSL https://raw.githubusercontent.com/Edmonds-Commerce-Limited/claude-code-hooks-daemon/main/scripts/upgrade.sh -o /tmp/upgrade.sh

# Review it to ensure you're comfortable with what it does
less /tmp/upgrade.sh

# Run it
bash /tmp/upgrade.sh
```

Or use the slash command (if upgrading from v2.5.0+):

```
/hooks-daemon-update
```

**What's New in This Upgrade**:
- New LLM-optimized QA script (project handler will guide you to use it)
- Per-handler documentation structure (better docs discoverability)
- Monorepo and custom markdown path support (if you need it)
- More accurate type checking (MyPy errors now visible)
- Cleaner handler list (project-specific handlers removed)

**Configuration Changes**: None required. All improvements are automatic.

**Optional Configuration**:
- **Monorepo Projects**: Add `_monorepo_subproject_patterns` to markdown_organization handler
- **Custom Markdown Paths**: Add `allowed_markdown_paths` to markdown_organization handler
- See `docs/guides/handlers/markdown_organization.md` for full configuration options

## Installation

### New Installations

```bash
cd .claude
git clone -b v2.11.0 https://github.com/Edmonds-Commerce-Limited/claude-code-hooks-daemon.git hooks-daemon
cd hooks-daemon
python3 -m venv untracked/venv
untracked/venv/bin/pip install -e .
untracked/venv/bin/python install.py
```

**Python Requirement**: Python 3.11 or newer required.

**AI-Assisted Installation (Recommended)**: See [LLM-INSTALL.md](https://raw.githubusercontent.com/Edmonds-Commerce-Limited/claude-code-hooks-daemon/main/CLAUDE/LLM-INSTALL.md)

### Upgrading Existing Installations

**Method 1: Fetch and Review Script (Recommended)**

```bash
# Download the upgrade script
curl -fsSL https://raw.githubusercontent.com/Edmonds-Commerce-Limited/claude-code-hooks-daemon/main/scripts/upgrade.sh -o /tmp/upgrade.sh

# Review it
less /tmp/upgrade.sh

# Run it
bash /tmp/upgrade.sh
```

**Method 2: Using Slash Command** (if upgrading from v2.5.0+)

```
/hooks-daemon-update
```

## Testing

- **Tests**: 5378 passing, 3 skipped (added 57 new tests in this release)
- **Coverage**: 95.3% maintained across all modules
- **Type Safety**: MyPy strict mode compliant with accurate error reporting
- **Security**: Bandit scan clean (0 issues)
- **QA Checks**: 7 checks passing (Magic Values, Format, Lint, Type Check, Tests, Security, Dependencies)

## Performance

No performance regressions. All changes are additive features or correctness improvements.

**QA Script Performance**: `llm_qa.py` has minimal overhead (~100-200ms) and provides dramatically faster cognitive processing for AI agents.

## Contributors

This release was developed with contributions from:
- Claude Sonnet 4.5
- Claude Opus 4.6

## Migration Notes

### For Users Upgrading from v2.10.x

**No Breaking Changes**: This release is fully backwards compatible.

**New Features Available**:
- **LLM QA Script**: Run `./scripts/qa/llm_qa.py all` for concise output
- **Critical Thinking Handler**: Automatically advises on complex tasks (enabled by default)
- **NPM LLM Detection**: Add `llm:` commands to package.json for optimized workflow
- **Config Key in Errors**: Blocking responses now show how to disable the handler
- **LLM Wrapper Guide**: Reference guide at `docs/guides/llm-command-wrappers.md`
- **Per-Handler Docs**: Check `docs/guides/handlers/` for detailed handler configuration
- **Monorepo Support**: Add `_monorepo_subproject_patterns` if using monorepo structure
- **Custom Markdown Paths**: Add `allowed_markdown_paths` for project-specific rules

**Automatic Improvements**:
- Type checking accuracy (no false negatives)
- Handler class type safety
- Force branch deletion now blocked
- Silent exception logging in handler registry
- Cleaner handler list (project-specific handlers removed)

**No Action Required**: All improvements are automatic and require no configuration changes.

### Using the LLM QA Script

After upgrade, you can use the new LLM-optimized QA script:

```bash
# Run all checks (concise output)
./scripts/qa/llm_qa.py all

# Run specific check
./scripts/qa/llm_qa.py tests

# Read-only mode (no file writes)
./scripts/qa/llm_qa.py all --read-only

# Drill down into failures
cat untracked/qa/lint.json | jq '.violations[] | {file, rule, message}'
```

The project handler will guide you to use `llm_qa.py` instead of `run_all.sh` when appropriate. Individual QA scripts (run_tests.sh, run_lint.sh, etc.) are still allowed.

### Monorepo Configuration

If you're using a monorepo structure, you can now configure sub-project patterns:

```yaml
handlers:
  pre_tool_use:
    markdown_organization:
      enabled: true
      _monorepo_subproject_patterns:
        - "^packages/[^/]+$"
        - "^services/[^/]+$"
```

See `docs/guides/handlers/markdown_organization.md` for full documentation.

### Custom Markdown Paths

If you have project-specific documentation structure, you can override the built-in rules:

```yaml
handlers:
  pre_tool_use:
    markdown_organization:
      enabled: true
      allowed_markdown_paths:
        - "^my-docs/"
        - "^specs/.*\\.md$"
```

Note: This overrides ALL built-in path checks (except CLAUDE.md, README.md, CHANGELOG.md).

## Full Changelog

**Compare**: https://github.com/Edmonds-Commerce-Limited/claude-code-hooks-daemon/compare/v2.10.1...v2.11.0

### Commits in This Release (25 total)

**LLM-Optimized QA and Documentation** (Plan 00053, 7 commits):
- `da71c17` Plan 00053: Add LLM-optimized QA wrapper script
- `5b1f1fa` Plan 00053: Complete - LLM QA wrapper script
- `cedb3c0` Add: Project handler to enforce LLM-optimised QA script
- `7763c05` Add: Per-handler docs structure, extract markdown_organization
- `7bcdd75` Add: Thorough monorepo+custom paths TDD, handler docs, config doc links
- `10ed5dd` Add: Configurable allowed_markdown_paths for markdown organization handler
- `21c0349` Add: Monorepo sub-project support for markdown organization handler
- `da7d750` Add: Monorepo config documentation in yaml example

**Critical Thinking Advisory Handler** (Plan 00051, 3 commits):
- `2c4266d` Add: Plan 051 - Critical Thinking Advisory Handler (UserPromptSubmit)
- `4a30b6e` Plan 00051: Implement critical thinking advisory handler
- `51e530e` Update: Plan 052 - Language-first folder structure for wrapper repo

**LLM Command Wrapper Guide** (Plan 00052, 4 commits):
- `ca50a3b` Add: Plan 052 - LLM Command Wrapper Guide (language-agnostic)
- `5bc354c` Update: Plan 052 - Add standalone wrapper repo as future phase
- `8dfdcfc` Plan 00052: LLM command wrapper guide and handler integration
- `57b4b1c` Plan 00051 & 00052: Complete - Critical thinking handler and LLM guide

**NPM Handler Enhancements** (Plan 00049, 3 commits):
- `b428e54` Add: Plan 049 (NPM llm: command detection) and Plan 050 (config key in errors)
- `c5e2283` Plan 00049: NPM handler LLM command detection & advisory mode
- `baeb7ae` Plan 00049 & 00050: Complete - NPM advisory mode and config key in errors

**Config Key Injection** (Plan 00050, 1 commit):
- `fa82460` Plan 00050: Phase 2 - Config key injection in DENY/ASK responses

**Scout Quick Wins and Fixes** (3 commits):
- `f0a03b9` Fix: Scout quick wins - destructive branch delete, deprecated name=, silent exception
- `80a2f25` Add: Document blocking handler false positives in commit messages
- `990bb1f` Remove project-specific hangover handlers, fix thinking mode position

**Plan Housekeeping** (4 commits):
- `cc09786` Fix: Restore Plan 00041 to Active (Phases 1-4 done, Phase 5 remaining)
- `ecf7dc8` Plan housekeeping: close 00041/00048, cancel 00044
- `a7178dd` Plan 00041: Complete - Project-level handlers first-class DX

### File Changes Summary

**New Files**:
- `scripts/qa/llm_qa.py` - LLM-optimized QA wrapper script
- `docs/guides/handlers/markdown_organization.md` - Per-handler documentation
- `.claude/project-handlers/pre_tool_use/enforce_llm_qa.py` - Project handler for LLM QA enforcement
- `.claude/project-handlers/pre_tool_use/test_enforce_llm_qa.py` - Tests for LLM QA handler

**Modified Files**:
- `src/claude_code_hooks_daemon/handlers/pre_tool_use/markdown_organization.py` - Monorepo and custom paths
- `src/claude_code_hooks_daemon/core/handler.py` - Added `_project_languages` to `__slots__`
- `scripts/qa/run_type_check.sh` - Added `--no-color-output` to mypy
- `.claude/hooks-daemon.yaml` - Config updates for new features
- `CLAUDE.md` - Updated quick commands with llm_qa.py
- `HANDLER_REFERENCE.md` - Links to per-handler docs

**Removed Files**:
- `src/claude_code_hooks_daemon/handlers/post_tool_use/validate_sitemap.py` - Project-specific handler
- `src/claude_code_hooks_daemon/handlers/subagent_stop/remind_validator.py` - Project-specific handler

## Next Steps

After installation or upgrade:

1. **Verify daemon starts successfully**: Run `/workspace/untracked/venv/bin/python -m claude_code_hooks_daemon.daemon.cli status`
2. **Try the LLM QA script**: Run `./scripts/qa/llm_qa.py all` to see the concise output
3. **Check per-handler docs**: Browse `docs/guides/handlers/` for detailed configuration guides
4. **Configure monorepo (if applicable)**: Add `_monorepo_subproject_patterns` to your config
5. **Customize markdown paths (if needed)**: Add `allowed_markdown_paths` for project-specific rules

## Known Issues

None at this time.

## Feedback

Report issues or request features at: https://github.com/Edmonds-Commerce-Limited/claude-code-hooks-daemon/issues

For installation feedback, see the template in LLM-INSTALL.md.
