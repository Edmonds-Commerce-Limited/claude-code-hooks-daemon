# Release v2.15.2 - Documentation Improvements for Installation, Config & Restart

**Release Date:** 2026-02-21
**Type:** Patch Release

## Summary

This patch release improves the documentation and onboarding experience for new and existing users. Three areas are addressed: the generated `hooks-daemon.yaml` config file now includes a restart-reminder header comment, the `/hooks-daemon` skill gains first-class restart subcommand documentation, and the LLM install/update docs now instruct agents to add a `### Hooks Daemon` section to project CLAUDE.md files and verify the config header is present. No handler code was changed.

## Highlights

- **Config header restart reminder** - New installations get a restart-reminder comment at the top of `hooks-daemon.yaml` showing the exact restart command, reducing confusion after config edits
- **Restart subcommand documented** - `/hooks-daemon restart` is now a first-class documented subcommand with a dedicated reference doc (`skills/hooks-daemon/restart.md`)
- **Project CLAUDE.md onboarding** - Install and update docs now guide LLM agents to add a `### Hooks Daemon` section to project CLAUDE.md files so the daemon is always discoverable
- **Check Config Header guidance** - Install and update docs include a step to verify and add the restart-reminder header to `hooks-daemon.yaml` if it is missing from existing installations

## Changes

### Added

- **Config header restart reminder in generated hooks-daemon.yaml**: New installations now receive a restart-reminder header comment at the top of the generated `.claude/hooks-daemon.yaml` config file, showing the exact daemon restart command. Reduces friction when users edit their config and forget to restart the daemon.
- **`/hooks-daemon restart` subcommand documentation**: Added restart as a first-class documented subcommand in `skills/hooks-daemon/SKILL.md`, with a dedicated `skills/hooks-daemon/restart.md` reference doc covering syntax, examples, and when to use it.
- **Post-installation and post-update CLAUDE.md instructions**: `CLAUDE/LLM-INSTALL.md` and `CLAUDE/LLM-UPDATE.md` now include a "Post-Installation: Update Project CLAUDE.md" and "Post-Update: Update Project CLAUDE.md" section instructing LLM agents to add a `### Hooks Daemon` section to project CLAUDE.md files after installation or upgrade.
- **Check Config Header guidance in install/update docs**: `CLAUDE/LLM-INSTALL.md` and `CLAUDE/LLM-UPDATE.md` include a "Also: Check Config Header" subsection instructing agents to verify the restart-reminder header is present in `hooks-daemon.yaml` and add it if missing.

## Upgrade Instructions

No breaking changes. Standard upgrade procedure applies.

**Option 1: Using the /hooks-daemon skill (recommended):**

```bash
/hooks-daemon upgrade
```

**Option 2: Manual upgrade:**

```bash
cd .claude/hooks-daemon
git fetch --tags
git checkout v2.15.2
untracked/venv/bin/pip install -e .
untracked/venv/bin/python -m claude_code_hooks_daemon.daemon.cli restart
```

**Option 3: Scripted upgrade:**

```bash
cd .claude/hooks-daemon
./scripts/upgrade_version.sh v2.15.2
```

## Installation

### New Installations

```bash
cd .claude
git clone -b v2.15.2 https://github.com/Edmonds-Commerce-Limited/claude-code-hooks-daemon.git hooks-daemon
cd hooks-daemon
python3 -m venv untracked/venv
untracked/venv/bin/pip install -e .
untracked/venv/bin/python install.py
```

### Upgrading Existing Installations

See Upgrade Instructions above.

## Testing

This is a PATCH release with no handler code changes.

Per the PATCH release scoping policy in RELEASING.md Step 8.0: PATCH releases with no handler changes may skip acceptance testing, with the rationale documented here.

All changes are in documentation files (`install.py` config header comment, `skills/hooks-daemon/`, `CLAUDE/LLM-INSTALL.md`, `CLAUDE/LLM-UPDATE.md`). No handler logic, dispatch logic, or daemon infrastructure was modified.

- **Type Safety:** MyPy strict mode compliant (0 errors)
- **Security:** Bandit scan clean (0 issues)
- **Linting:** Ruff clean (0 violations)
- **Formatting:** Black compliant (0 files need reformatting)
- **Magic Values:** 0 violations
- **Dependencies:** 0 issues
- **Shell Scripts:** Shellcheck clean (0 errors, 0 warnings)

## Contributors

This release includes commits from:
- Edmonds Commerce team
- Claude Sonnet 4.6 (AI-assisted development)

## Breaking Changes

No breaking changes. This release is fully backwards-compatible with v2.15.1.

## Full Changelog

**Compare:** https://github.com/Edmonds-Commerce-Limited/claude-code-hooks-daemon/compare/v2.15.1...v2.15.2

**3 commits since v2.15.1:**
- `aae9c4c` Add: check config header instruction to install/update docs
- `a52f155` Add: project CLAUDE.md hooks-daemon section to install/update docs
- `e490f1f` Add: hooks-daemon restart documentation and yaml config header

See [CHANGELOG.md](../CHANGELOG.md#2152---2026-02-21) for the categorised changelog entry.
